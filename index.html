<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Daily Study Planner</title>
<style>
body { font-family: Arial, sans-serif; background:#f2f2f2; direction:rtl; text-align:center; }
h1 { margin-top:20px; }
.container { background:white; width:90%; max-width:400px; margin:auto; padding:20px; border-radius:12px; }
input, select { width:100%; padding:10px; margin:6px 0; }
button { width:100%; padding:12px; background:#4CAF50; color:white; border:none; border-radius:6px; margin:5px 0; cursor:pointer; }
ul { list-style:none; padding:0; }
li { background:#eaeaea; margin:8px 0; padding:10px; border-radius:6px; }
.dark-theme { background-color:#121212; color:#fff; }
.dark-theme .container { background-color:#1e1e1e; }
#mapContainer div:hover { opacity:0.8; }
</style>
</head>
<body>

<h1>ğŸ“š Daily Study Planner</h1>

<div class="container">
  <h2>Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø©</h2>

  <input type="text" id="subjectName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø§Ø¯Ø©">
  <input type="number" id="studyHours" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª">

  <select id="day">
    <option value="Ø§Ù„Ø³Ø¨Øª">Ø§Ù„Ø³Ø¨Øª</option>
    <option value="Ø§Ù„Ø£Ø­Ø¯">Ø§Ù„Ø£Ø­Ø¯</option>
    <option value="Ø§Ù„Ø§Ø«Ù†ÙŠÙ†">Ø§Ù„Ø§Ø«Ù†ÙŠÙ†</option>
    <option value="Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡">Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡</option>
    <option value="Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡">Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡</option>
    <option value="Ø§Ù„Ø®Ù…ÙŠØ³">Ø§Ù„Ø®Ù…ÙŠØ³</option>
    <option value="Ø§Ù„Ø¬Ù…Ø¹Ø©">Ø§Ù„Ø¬Ù…Ø¹Ø©</option>
  </select>

  <button onclick="addSubject()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¬Ø¯ÙˆÙ„</button>

  <h2>ğŸ“… Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø©</h2>
  <ul id="plan"></ul>
</div>

<!-- Ø²Ø± Premium -->
<button id="premiumBtn" style="position: fixed; bottom: 20px; right: 20px; padding:12px 16px; background:gold; border:none; border-radius:10px; font-size:16px;">
â­ Premium
</button>

<!-- Ù‚Ø³Ù… Ø§Ù„Ø¯ÙØ¹ -->
<div id="paymentSection" style="display:none; margin-top:10px; text-align:center;">
  <h3>Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹:</h3>
  <select id="paymentMethod">
    <option value="vodafone">Vodafone Cash</option>
    <option value="orange">Orange Cash</option>
    <option value="etisalat">Etisalat Cash</option>
  </select>
  <p>Ø­ÙˆÙ„ Ø§Ù„Ù…Ø¨Ù„Øº Ø¥Ù„Ù‰ Ø±Ù‚Ù… Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„ØªØ§Ù„ÙŠ:</p>
  <p id="walletNumber">0123456789</p>
  <input type="text" id="transactionId" placeholder="Ø±Ù‚Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„ / Receipt">
  <button onclick="confirmPayment()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹</button>
</div>

<!-- Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø¨Ø±ÙŠÙ…ÙŠÙ… -->
<div id="themeSwitcher" style="display:none; margin-top: 10px; text-align:center;">
  <button id="themeBtn">ØªØºÙŠÙŠØ± Ø§Ù„Ø«ÙŠÙ… ğŸŒ™</button>
</div>

<!-- Ø®Ø±Ø§Ø¦Ø· Ø°Ù‡Ù†ÙŠØ© -->
<div id="mindMap" style="display:none; margin-top:20px;">
  <h3>ğŸ§  Ø®Ø±Ø§Ø¦Ø· Ø°Ù‡Ù†ÙŠØ© Ù„Ù„Ù…Ø°Ø§ÙƒØ±Ø©</h3>
  <div id="mapContainer" style="position:relative; width:100%; height:400px; background:#f9f9f9; border:1px solid #ccc; border-radius:10px;"></div>
</div>

<script>
let subjects = JSON.parse(localStorage.getItem("subjects")) || [];
let isPremium = JSON.parse(localStorage.getItem("isPremium")) || false;

// Ø¥Ø¶Ø§ÙØ© Ù…Ø§Ø¯Ø©
function addSubject() {
  let name = document.getElementById("subjectName").value;
  let hours = document.getElementById("studyHours").value;
  let day = document.getElementById("day").value;

  if (name === "" || hours === "") { alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø§ÙƒÙ…Ù„ÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"); return; }

  subjects.push({ name, hours, day });
  localStorage.setItem("subjects", JSON.stringify(subjects));
  showPlan();
}
function showPlan() {
  let plan = document.getElementById("plan");
  plan.innerHTML = "";
  subjects.forEach(sub => {
    let li = document.createElement("li");
    li.innerHTML = `ğŸ“… ${sub.day}<br>ğŸ“˜ ${sub.name}<br>â° ${sub.hours} Ø³Ø§Ø¹Ø©`;
    plan.appendChild(li);
  });
}
showPlan();

// ØªÙØ¹ÙŠÙ„ Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø¨Ø±ÙŠÙ…ÙŠÙ…
function unlockPremiumFeatures() {
  document.getElementById("themeSwitcher").style.display = "block";
  unlockMindMap();
}
function toggleTheme() {
  document.body.classList.toggle("dark-theme");
}

// Ø§Ù„Ø®Ø±Ø§Ø¦Ø· Ø§Ù„Ø°Ù‡Ù†ÙŠØ© Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© Ù„ÙƒÙ„ Ø§Ù„Ù…ÙˆØ§Ø¯
function renderMindMap() {
  let container = document.getElementById("mapContainer");
  container.innerHTML = "";

  let nodes = subjects.map((sub, index) => {
    return {
      title: sub.name,
      info: `ğŸ“… ${sub.day}\nâ° ${sub.hours} Ø³Ø§Ø¹Ø©`,
      x: 50 + (index % 3) * 150,
      y: 50 + Math.floor(index / 3) * 100
    };
  });

  nodes.forEach(node => {
    let div = document.createElement("div");
    div.innerText = node.title;
    div.style.position = "absolute";
    div.style.left = node.x + "px";
    div.style.top = node.y + "px";
    div.style.width = "120px";
    div.style.height = "50px";
    div.style.background = "#4CAF50";
    div.style.color = "white";
    div.style.borderRadius = "10px";
    div.style.display = "flex";
    div.style.alignItems = "center";
    div.style.justifyContent = "center";
    div.style.cursor = "pointer";
    div.onclick = function() { alert(node.info); }
    container.appendChild(div);
  });
}
function unlockMindMap() {
  document.getElementById("mindMap").style.display = "block";
  renderMindMap();
}

// Ø²Ø± Premium
document.getElementById("premiumBtn").onclick = function () {
  document.getElementById("paymentSection").style.display = "block";
};
document.getElementById("paymentMethod").onchange = function() {
  let method = this.value;
  let number = method === "vodafone" ? "0123456789" :
               method === "orange" ? "0112345678" :
               "0101234567";
  document.getElementById("walletNumber").innerText = number;
};

// ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹
function confirmPayment() {
  let txn = document.getElementById("transactionId").value;
  if(txn === "") { alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø§ÙƒØªØ¨ Ø±Ù‚Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„ / Receipt"); return; }
  isPremium = true;
  localStorage.setItem("isPremium", true);
  alert("ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨Ø±ÙŠÙ…ÙŠÙ…! ğŸŒŸ");
  unlockPremiumFeatures();
  document.getElementById("paymentSection").style.display = "none";
}

// ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…Ø²Ø§ÙŠØ§ Ù„Ùˆ Ø³Ø¨Ù‚ Ø§Ù„Ø¯ÙØ¹
if(isPremium) unlockPremiumFeatures();

// Ø±Ø¨Ø· Ø²Ø± ØªØºÙŠÙŠØ± Ø§Ù„Ø«ÙŠÙ…
document.getElementById("themeBtn").onclick = toggleTheme;
</script>

</body>
</html>
